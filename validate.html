<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bioschemas Validator</title>
    <!-- Google Font -->
    <link href='https://fonts.googleapis.com/css?family=Noto+Sans' rel='stylesheet' type='text/css'>
    <!-- d3.js framework -->
    <script type="text/javascript" src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="stylesheet.css" media="screen" title="no title" charset="utf-8">
</head>
<body>

    <div style="display: inline-block; padding: 1em 0;">
        <a href="index.html"><img class="rotation" src="img/square_logo2.png" alt="Bioschemas" style="width: 10%; height: 10%;"></a>
        <a href="index.html"><img src="img/name_lower.png" alt="Bioschemas" style="width: 40%; height: 40%;"></a>
    </div>

    <div class="navbar">
        <div class="navbar_links">
            <a href="index.html" class="page-link">
                <div class="nav_buttons">Home</div>
            </a>
            <a href="websites_registry/index.html" class="page-link">
                <div class="nav_buttons">Registry</div>
            </a>
            <a href="validate.html" class="page-link">
                <div class="nav_buttons" id="nav_active">Submit Website</div>
            </a>
            <a href="tester.html" class="page-link">
                <div class="nav_buttons">Test Website</div>
            </a>
        </div>
    </div>

<!--<button type="button" class="buttons_mini" onclick="window.location.href='index.html'">Back</button>-->

<div>
    <p>Please type in a valid URL in the field below.</p>
    <p>Website Name: </p>
    <input type="text" id="name_input" class="inputs"><br>
    <p>Website URL: </p>
    <input type="text" id="url_input" class="inputs"><br><br>
    <label>
        <input type="checkbox" id="link_input" style="display: inline;">&nbsp;&nbsp;Validate children links too
    </label>

    <br>

    <p>Scrape a specific Bioschemas type: &nbsp;
        <select name="types" id="types_menu">
            <option value="all" selected>All Types</option>
            <option value="Event">Events</option>
            <option value="Organization">Organizations</option>
            <option value="Person">Persons</option>
            <option value="Training">Training Materials</option>
        </select>
    </p>

    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button type="submit" id="submitBtn" class="buttons_mini">Validate!</button>
</div>

<div id="response"></div>

<!-- jQuery -->
<script type="text/javascript" src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
<script type="text/javascript">

    $("#submitBtn").on("click", function () {
        var urlToVal = $("#url_input").val();
        var nameToVal = $("#name_input").val();
        var linkToVal;
        if ($("#link_input").is(":checked")) {
            linkToVal = 0;
        } else {
            linkToVal = 1;
        }
        var typeToVal = $("#types_menu").val();

        if (urlToVal == "") {
            alert("You need to provide a valid URL to validate!");
        } else if (nameToVal == "") {
            var r = confirm("If you don't provide a name for your website, the URL will be used as its name.");
            if (r == true) {
                $.get("validate_url.php", {url : urlToVal, nome : urlToVal, link : linkToVal, types : typeToVal});
                $("#response").append("<p>Thanks for using this service.</p>");
                $("#response").append("<p>You can view the validation results on the <a href='websites_registry/index.html' title='Websites Page'>Websites</a> page.</p>");
            }
        } else {
            $.get("validate_url.php", {url : urlToVal, nome : nameToVal, link : linkToVal, types : typeToVal});
            $("#response").append("<p>Thanks for using this service.</p>");
            $("#response").append("<p>You can view the validation results on the <a href='websites_registry/index.html' title='Websites Page'>Websites</a> page.</p>");
        }

    });


</script>

</body>
</html>